!function(){"use strict";var e="undefined"!=typeof window?window:global;if("function"!=typeof e.require){var t={},s={},n=function(e,t){return{}.hasOwnProperty.call(e,t)},o=function(e,t){var s,n,o=[];s=/^\.\.?(\/|$)/.test(t)?[e,t].join("/").split("/"):t.split("/");for(var a=0,i=s.length;i>a;a++)n=s[a],".."===n?o.pop():"."!==n&&""!==n&&o.push(n);return o.join("/")},a=function(e){return e.split("/").slice(0,-1).join("/")},i=function(t){return function(s){var n=a(t),i=o(n,s);return e.require(i,t)}},r=function(e,t){var n={id:e,exports:{}};return s[e]=n,t(n.exports,i(e),n),n.exports},l=function(e,a){var i=o(e,".");if(null==a&&(a="/"),n(s,i))return s[i].exports;if(n(t,i))return r(i,t[i]);var l=o(i,"./index");if(n(s,l))return s[l].exports;if(n(t,l))return r(l,t[l]);throw new Error('Cannot find module "'+e+'" from "'+a+'"')},d=function(e,s){if("object"==typeof e)for(var o in e)n(e,o)&&(t[o]=e[o]);else t[e]=s},h=function(){var e=[];for(var s in t)n(t,s)&&e.push(s);return e};e.require=l,e.require.define=d,e.require.register=d,e.require.list=h,e.require.brunch=!0}}(),require.register("data",function(e,t,s){s.exports={responses:{iurl:"www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html",themes:[],respCount:6,resId:"PYwyRnomaeQ",stars:[],maxts:"2015-05-09T18:03:06.148000",res:{domain:"nytimes.com",wc:1289,author:"SUZANNE JOINSON",image:"http://static01.nyt.com/images/2015/04/26/business/26-ONWORK/26-ONWORK-master675.jpg",title:"Dirty Talk and Dostoyevsky on the Night Shift",date:"Sat, 25 Apr 2015 00:00:00 GMT",sen:null,topics:["Next Magazine","Henry Couchman"]},notes:[],time:963,threadCount:2,thts:["973739","6982C2","32BC0B","7B1A63","25D323"],isLongRead:!1,reads:[{iurl:"www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html",resId:"PYwyRnomaeQ",maxts:"2015-05-09T18:03:06.148000",res:null,userId:null,subtype:null,groups:["AC07B38B0D75449A910945A331AE3D12","beanbag","0DC6C1DD7658401C902692D2D2DAA1B8","dogfood","B73F684AB96043EEB256E60844F6C9E7","4AC8D3BCCA5F4616BCA07FAB83393519","88642800206343F0BEC20E36C01334C0","787C919FF89040CCB33EE4E8E149A3EA"],time:342,id:"554e4bd71474ff7fc3882095",mints:"2015-05-09T18:03:06.148000"},{iurl:"www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html",resId:"PYwyRnomaeQ",maxts:"2015-05-08T20:38:01.163000",res:null,userId:null,subtype:null,groups:["B1646456060245BF9230AC261E23D25F","beanbag"],time:268,id:"554d1ea91474ff7fc388162b",mints:"2015-05-08T20:38:01.163000"},{iurl:"www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html",resId:"PYwyRnomaeQ",maxts:"2015-04-27T12:33:49.883000",res:null,userId:null,subtype:null,groups:["AC07B38B0D75449A910945A331AE3D12","beanbag","88642800206343F0BEC20E36C01334C0","787C919FF89040CCB33EE4E8E149A3EA"],time:353,id:"553e2caa1474ff7fc3876486",mints:"2015-04-27T12:33:49.883000"}],threads:[{head:{username:"badtz",note:null,votes:{star:{}},selection:"Summing over all possible oscillators at all points in space gives an infinite quantity",resId:"PYwyRnomaeQ",maxts:"2015-04-26T13:44:10.389000",tht:"7B1A63",userId:"12725660033C4D6C9FD6CCD53ACF47FE",themes:[],url:"http://www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html?action=click&pgtype=Homepage&version=Moth-Visible&module=inside-nyt-region&region=inside-nyt-region&WT.nav=inside-nyt-region",iurl:"www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html",groups:["beanbag"],threadId:null,thtObj:{thought:"HA",postedPl:"guffawed",statement:"Laugh out loud.",evalType:"React",posted:"guffawed",id:"7B1A63",prep:null},id:"553ceb93006c9d44f1d9817c",mints:"2015-04-26T13:44:10.389000"},tntSummary:"chocomonster is amused and Alex guffawed as well.",responses:[{username:"badtz",note:null,votes:{star:{}},selection:"Summing over all possible oscillators at all points in space gives an infinite quantity",resId:"PYwyRnomaeQ",maxts:"2015-04-26T13:44:10.389000",tht:"7B1A63",userId:"12725660033C4D6C9FD6CCD53ACF47FE",themes:[],url:"http://www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html?action=click&pgtype=Homepage&version=Moth-Visible&module=inside-nyt-region&region=inside-nyt-region&WT.nav=inside-nyt-region",iurl:"www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html",groups:["beanbag"],threadId:null,thtObj:{thought:"HA",postedPl:"guffawed",statement:"Laugh out loud.",evalType:"React",posted:"guffawed",id:"7B1A63",prep:null},id:"553ceb93006c9d44f1d9817c",mints:"2015-04-26T13:44:10.389000"},{username:"chocomonster",note:null,votes:{},selection:"Summing over all possible oscillators at all points in space gives an infinite quantity",resId:"PYwyRnomaeQ",maxts:"2015-05-08T20:37:14.093000",tht:"973739",userId:"77D4BF662E1B433286EC81A3EC2A577B",themes:[],url:"http://www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html?action=click&pgtype=Homepage&version=Moth-Visible&module=inside-nyt-region&region=inside-nyt-region&WT.nav=inside-nyt-region&_r=0",iurl:"www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html",groups:["B1646456060245BF9230AC261E23D25F","beanbag"],threadId:"553ceb93006c9d44f1d9817c",thtObj:{thought:"{ chuckle }",postedPl:"are amused",statement:"Heh.",evalType:"React",posted:"is amused",id:"973739",prep:null},id:"554d1e78d2330917b14b1506",mints:"2015-05-08T20:37:14.093000"},{username:"Alex",note:null,votes:{},selection:"Summing over all possible oscillators at all points in space gives an infinite quantity",resId:"PYwyRnomaeQ",maxts:"2015-05-09T18:02:53.150000",tht:"7B1A63",userId:"653D5D49721240A5A9E0B3A3B57DBA39",themes:[],url:"http://www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html",iurl:"www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html",groups:["beanbag"],threadId:"553ceb93006c9d44f1d9817c",thtObj:{thought:"HA",postedPl:"guffawed",statement:"Laugh out loud.",evalType:"React",posted:"guffawed",id:"7B1A63",prep:null},id:"554e4bc6d2330917b14b1524",mints:"2015-05-09T18:02:53.150000"}]},{head:{username:"badtz",note:null,votes:{star:{}},selection:"I learned that the larger pattern only comes with the creation of small segments and that all the artistry is in the stitching up.",resId:"PYwyRnomaeQ",maxts:"2015-04-26T13:43:14.129000",tht:"32BC0B",userId:"12725660033C4D6C9FD6CCD53ACF47FE",themes:[],url:"http://www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html?action=click&pgtype=Homepage&version=Moth-Visible&module=inside-nyt-region&region=inside-nyt-region&WT.nav=inside-nyt-region",iurl:"www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html",groups:["beanbag"],threadId:null,thtObj:{thought:"Uh-huh",postedPl:"see truth",statement:"Rings true.",evalType:"Evaluate",posted:"sees truth",id:"32BC0B",prep:null},id:"553ceb5b006c9d44f2156a86",mints:"2015-04-26T13:43:14.129000"},tntSummary:"Alex appreciates and chocomonster found insight.",responses:[{username:"badtz",note:null,votes:{star:{}},selection:"I learned that the larger pattern only comes with the creation of small segments and that all the artistry is in the stitching up.",resId:"PYwyRnomaeQ",maxts:"2015-04-26T13:43:14.129000",tht:"32BC0B",userId:"12725660033C4D6C9FD6CCD53ACF47FE",themes:[],url:"http://www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html?action=click&pgtype=Homepage&version=Moth-Visible&module=inside-nyt-region&region=inside-nyt-region&WT.nav=inside-nyt-region",iurl:"www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html",groups:["beanbag"],threadId:null,thtObj:{thought:"Uh-huh",postedPl:"see truth",statement:"Rings true.",evalType:"Evaluate",posted:"sees truth",id:"32BC0B",prep:null},id:"553ceb5b006c9d44f2156a86",mints:"2015-04-26T13:43:14.129000"},{username:"chocomonster",note:null,votes:{},selection:"I learned that the larger pattern only comes with the creation of small segments and that all the artistry is in the stitching up.",resId:"PYwyRnomaeQ",maxts:"2015-05-08T20:36:33.534000",tht:"25D323",userId:"77D4BF662E1B433286EC81A3EC2A577B",themes:[],url:"http://www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html?action=click&pgtype=Homepage&version=Moth-Visible&module=inside-nyt-region&region=inside-nyt-region&WT.nav=inside-nyt-region&_r=0",iurl:"www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html",groups:["B1646456060245BF9230AC261E23D25F","beanbag"],threadId:"553ceb5b006c9d44f2156a86",thtObj:{thought:"Good point",postedPl:"found insight",statement:"Incisive.",evalType:"Evaluate",posted:"found insight",id:"25D323",prep:null},id:"554d1e50d2330917b14b1505",mints:"2015-05-08T20:36:33.534000"},{username:"Alex",note:null,votes:{},selection:"I learned that the larger pattern only comes with the creation of small segments and that all the artistry is in the stitching up.",resId:"PYwyRnomaeQ",maxts:"2015-05-09T18:02:07.498000",tht:"6982C2",userId:"653D5D49721240A5A9E0B3A3B57DBA39",themes:[],url:"http://www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html",iurl:"www.nytimes.com/2015/04/26/jobs/talking-dirty-while-reading-dostoyevsky.html",groups:["beanbag"],threadId:"553ceb5b006c9d44f2156a86",thtObj:{thought:"Nice",postedPl:"appreciate",statement:"Good stuff.",evalType:"React",posted:"appreciates",id:"6982C2",prep:null},id:"554e4b99d2330917b09e986b",mints:"2015-05-09T18:02:07.498000"}]}],groups:"beanbag",responderCount:3,id:"CA45ff17e5523216893d8c32467a2669e4",type:"resource",readerCount:3,mints:"2015-04-26T13:43:14.129000",users:["12725660033C4D6C9FD6CCD53ACF47FE","653D5D49721240A5A9E0B3A3B57DBA39","77D4BF662E1B433286EC81A3EC2A577B"]},config:{thoughts:[{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Understand",id:"88AFA7",thought:"How?",postedPl:"would like a breakdown",statement:"How exactly?",firstPerson:"I would like a breakdown",secondPerson:"You would like a breakdown",prep:"of",posted:"would like a breakdown"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"56057C",thought:"Hollow",postedPl:"detect artifice",statement:"Disingenuous.",firstPerson:"I detect artifice",secondPerson:"You detect artifice",prep:"in",posted:"detects artifice"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Understand",id:"71A57A",thought:"Syntax!",postedPl:"are stuck on syntax",statement:"What does this mean?",firstPerson:"I am stuck on syntax",secondPerson:"You are stuck on syntax",prep:"",posted:"is stuck on syntax"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"D35A4A",thought:"Wow",postedPl:"marvel",statement:"Amazing!",firstPerson:"I marvel",secondPerson:"You marvel",prep:"at",posted:"marvels"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"A0FE97",thought:"Sugarcoat",postedPl:"aren't fooled",statement:"A wolf in sheep's clothing.",firstPerson:"I amn't fooled",secondPerson:"You aren't fooled",prep:"by",posted:"isn't fooled"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"32BC0B",thought:"Uh-huh",postedPl:"see truth",statement:"RingsTrue.",firstPerson:"I see truth",secondPerson:"You see truth",prep:"in",posted:"sees truth"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"EBA5E5",thought:"O.K.",postedPl:"can believe it",statement:"That's credible.",firstPerson:"I can believe it",secondPerson:"You can believe it",prep:"",posted:"can believe it"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"0DA1DC",thought:"Woe",postedPl:"are heavy-hearted",statement:"My heart sinks.",firstPerson:"I am heavy-hearted",secondPerson:"You are heavy-hearted",prep:"by",posted:"is heavy-hearted"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"FA46B5",thought:"Grrr",postedPl:"are aggravated",statement:"So annoying.",firstPerson:"I am aggravated",secondPerson:"You are aggravated",prep:"by",posted:"is aggravated"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"419480",thought:"Eek!",postedPl:"just squeaked",statement:"Egads!",firstPerson:"I just squeaked",secondPerson:"You just squeaked",prep:"",posted:"just squeaked"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"F385BA",thought:"{ shrug }",postedPl:"are indifferent",statement:"Who cares?",firstPerson:"I am indifferent",secondPerson:"You are indifferent",prep:"to",posted:"is indifferent"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Understand",id:"6E9D16",thought:">=?",postedPl:"need a sense of scale",statement:"Compared to what?",firstPerson:"I need a sense of scale",secondPerson:"You need a sense of scale",prep:"for",posted:"needs a sense of scale"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!0,evalType:"Evaluate",id:"FBEB2C",thought:"Truly?",postedPl:"are skeptical",statement:"I wonder...",firstPerson:"I am skeptical",secondPerson:"You are skeptical",prep:"of",posted:"is skeptical"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"68FFD8",thought:"Right?",postedPl:"empathize",statement:"I feel the same way!",firstPerson:"I empathize",secondPerson:"You empathize",prep:"with",posted:"empathizes"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!0,evalType:"React",id:"6982C2",thought:"Nice",postedPl:"appreciate",statement:"Good stuff.",firstPerson:"I appreciate",secondPerson:"You appreciate",prep:"",posted:"appreciates"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"FB7D15",thought:"Yes",postedPl:"concur",statement:"I agree.",firstPerson:"I concur",secondPerson:"You concur",prep:"with",posted:"concurs"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"420FA6",thought:"Er...",postedPl:"are wondering",statement:"Not sure.",firstPerson:"I am wondering",secondPerson:"You are wondering",prep:"about",posted:"is wondering"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!0,evalType:"Understand",id:"CC614E",thought:"???",postedPl:"missed something",statement:"Come again?",firstPerson:"I missed something",secondPerson:"You missed something",prep:"",posted:"missed something"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"7C9048",thought:"{ ... }",postedPl:"are at a loss for words",statement:"Where to begin?",firstPerson:"I am at a loss for words",secondPerson:"You are at a loss for words",prep:"",posted:"is at a loss for words"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"814C7F",thought:"Weird",postedPl:"are unsettled",statement:"How strange.",firstPerson:"I am unsettled",secondPerson:"You are unsettled",prep:"by",posted:"is unsettled"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Understand",id:"EF3EB8",thought:"Why?",postedPl:"want the rationale",statement:"Why is it...?",firstPerson:"I want the rationale",secondPerson:"You want the rationale",prep:"",posted:"wants the rationale"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"4441ED",thought:"{ ! }",postedPl:"are rapt",statement:"Fascinating",firstPerson:"I am rapt",secondPerson:"You are rapt",prep:"",posted:"is rapt"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"EF90C2",thought:"{ sigh }",postedPl:"are resigned",statement:"Sad butTrue.",firstPerson:"I am resigned",secondPerson:"You are resigned",prep:"about",posted:"is resigned"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"34159B",thought:"Duh",postedPl:"say, obviously",statement:"Of course!",firstPerson:"I say, obviously",secondPerson:"You say, obviously",prep:"",posted:"says, obviously"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"AF26B2",thought:"If only!",postedPl:"rue",statement:"I wish.",firstPerson:"I rue",secondPerson:"You rue",prep:"",posted:"rues"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"C3E01D",thought:"That's rich",postedPl:"smell hypocrisy",statement:"Pot calling kettle black!",firstPerson:"I smell hypocrisy",secondPerson:"You smell hypocrisy",prep:"in",posted:"smells hypocrisy"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"D7FC5B",thought:"Well said",postedPl:"appreciate eloquence",statement:"Nicely put.",firstPerson:"I appreciate eloquence",secondPerson:"You appreciate eloquence",prep:"of",posted:"appreciates eloquence"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"E232D2",thought:"Spot on",postedPl:"appreciate perspicacity",statement:"Precisely!",firstPerson:"I appreciate perspicacity",secondPerson:"You appreciate perspicacity",prep:"",posted:"appreciates perspicacity"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"DD9955",thought:"Brave!",postedPl:"encountered courage",statement:"Making the hard decision.",firstPerson:"I encountered courage",secondPerson:"You encountered courage",prep:"in",posted:"encountered courage"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"EE5A3A",thought:"{ snort }",postedPl:"just snorted",statement:"Quality.",firstPerson:"I just snorted",secondPerson:"You just snorted",prep:"at",posted:"just snorted"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"BB33A2",thought:"{ squint }",postedPl:"are suspicious",statement:"Doesn't add up.",firstPerson:"I am suspicious",secondPerson:"You are suspicious",prep:"of",posted:"is suspicious"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"86C044",thought:"Or...",postedPl:"see another option",statement:"What about...",firstPerson:"I see another option",secondPerson:"You see another option",prep:"",posted:"sees another option"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"DC961D",thought:"No",postedPl:"beg to differ",statement:"I disagree.",firstPerson:"I beg to differ",secondPerson:"You beg to differ",prep:"with",posted:"begs to differ"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"7B1A63",thought:"HA",postedPl:"guffawed",statement:"Laugh out loud.",firstPerson:"I guffawed",secondPerson:"You guffawed",prep:"at",posted:"guffawed"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"6AAB1E",thought:"Yup",postedPl:"sez troodat",statement:"I agree.",firstPerson:"I sez troodat",secondPerson:"You sez troodat",prep:"",posted:"sez troodat"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"744CFA",thought:"{ eyeroll }",postedPl:"are bored",statement:"How tedious.",firstPerson:"I am bored",secondPerson:"You are bored",prep:"of",posted:"is bored"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"2605EF",thought:"Uh-oh",postedPl:"foresee misfortune",statement:"That's not going to end well...",firstPerson:"I foresee misfortune",secondPerson:"You foresee misfortune",prep:"in",posted:"foresees misfortune"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"758445",thought:"Doh",postedPl:"say whoops",statement:"How embarrassing.",firstPerson:"I say whoops",secondPerson:"You say whoops",prep:"",posted:"says whoops"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!0,evalType:"React",id:"0DF31B",thought:"Foul!",postedPl:"are outraged",statement:"How infuriating!",firstPerson:"I am outraged",secondPerson:"You are outraged",prep:"by",posted:"is outraged"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"8CA7B2",thought:"Finally!",postedPl:"are vindicated",statement:"Somebody said it!",firstPerson:"I am vindicated",secondPerson:"You are vindicated",prep:"",posted:"is vindicated"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"535CEF",thought:"And?",postedPl:"question the relevance",statement:"Beside the point.",firstPerson:"I question the relevance",secondPerson:"You question the relevance",prep:"of",posted:"questions the relevance"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"2B1534",thought:"Ugh",postedPl:"are disgusted",statement:"How repugnant.",firstPerson:"I am disgusted",secondPerson:"You are disgusted",prep:"by",posted:"is disgusted"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!0,evalType:"Evaluate",id:"E608C0",thought:"Huh.",postedPl:"are pondering",statement:"Food for thought...",firstPerson:"I am pondering",secondPerson:"You are pondering",prep:"",posted:"is pondering"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!0,evalType:"Understand",id:"FBBBA1",thought:"e.g.",postedPl:"would like examples",statement:"For instance...",firstPerson:"I would like examples",secondPerson:"You would like examples",prep:"of",posted:"would like examples"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!0,evalType:"Understand",id:"3CD8ED",thought:"Who knew?",postedPl:"have been educated",statement:"I did not know that.",firstPerson:"I have been educated",secondPerson:"You have been educated",prep:"by",posted:"has been educated"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"586555",thought:"Ooh",postedPl:"are intrigued",statement:"Curious and Mysterious!",firstPerson:"I am intrigued",secondPerson:"You are intrigued",prep:"by",posted:"is intrigued"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"E04D3F",thought:"Ack!",postedPl:"are troubled",statement:"Disturbing...",firstPerson:"I am troubled",secondPerson:"You are troubled",prep:"by",posted:"is troubled"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Understand",id:"E4E2EF",thought:"{ cough }",postedPl:"see hidden meaning",statement:"As they say...",firstPerson:"I see hidden meaning",secondPerson:"You see hidden meaning",prep:"in",posted:"sees hidden meaning"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Understand",id:"64E672",thought:"Apt!",postedPl:"appreciate a good example",statement:"Nice example!",firstPerson:"I appreciate a good example",secondPerson:"You appreciate a good example",prep:"of",posted:"appreciates a good example"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"01EE24",thought:"Awesome",postedPl:"salute",statement:"Show some respect!",firstPerson:"I salute",secondPerson:"You salute",prep:"",posted:"salutes"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"645ACE",thought:"Fair point",postedPl:"recognize rigor",statement:"Well-considered.",firstPerson:"I recognize rigor",secondPerson:"You recognize rigor",prep:"in",posted:"recognizes rigor"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!0,evalType:"React",id:"973739",thought:"{ chuckle }",postedPl:"are amused",statement:"Heh.",firstPerson:"I am amused",secondPerson:"You are amused",prep:"by",posted:"is amused"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"689F98",thought:"As if!",postedPl:"sense denial",statement:"Wishful thinking.",firstPerson:"I sense denial",secondPerson:"You sense denial",prep:"in",posted:"senses denial"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"487A46",thought:"{ shudder }",postedPl:"are sobered",statement:"Stark.",firstPerson:"I am sobered",secondPerson:"You are sobered",prep:"by",posted:"is sobered"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"E2F576",thought:"Phew!",postedPl:"are relieved",statement:"Thank goodness.",firstPerson:"I am relieved",secondPerson:"You are relieved",prep:"by",posted:"is relieved"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"FC9BD1",thought:"Too easy",postedPl:"questions the simplicity",statement:"Overly simplistic, no?",firstPerson:"I questions the simplicity",secondPerson:"You questions the simplicity",prep:"of",posted:"questions the simplicity"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"React",id:"8E33F2",thought:"Tsk",postedPl:"disapprove",statement:"Shameful!",firstPerson:"I disapprove",secondPerson:"You disapprove",prep:"of",posted:"disapproves"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!0,evalType:"Evaluate",id:"25D323",thought:"Good point",postedPl:"found insight",statement:"Incisive.",firstPerson:"I found insight",secondPerson:"You found insight",prep:"in",posted:"found insight"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Evaluate",id:"755C2F",thought:"Whoa",postedPl:"smell hyperbole",statement:"A bit much, no?",firstPerson:"I smell hyperbole",secondPerson:"You smell hyperbole",prep:"in",posted:"smells hyperbole"},{groups:{alpettoID:!0,beanbagID:!0,chargersID:!0,dogID:!0,edgarID:!0,franceID:!0,goliathID:!0},inBaseSet:!1,evalType:"Understand",id:"B6B89E",thought:"Got it",postedPl:"grok",statement:"Crystal clear.",firstPerson:"I grok",secondPerson:"You grok",prep:"",posted:"groks"}],hasThemes:!0,groups:[{id:"alpettoID",code:"alpetto",themes:[],hasThemes:!1},{id:"beanbagID",code:"beanbag",themes:[{isActive:!0,title:"beanbagm0",themes:["0-theme-beanbag0","0-theme-beanbag1","0-theme-beanbag2","0-theme-beanbag3"]},{isActive:!0,title:"beanbagm1",themes:["1-theme-beanbag0","1-theme-beanbag1","1-theme-beanbag2","1-theme-beanbag3"]}],hasThemes:!0},{id:"chargersID",code:"chargers",themes:[{isActive:!0,title:"chargersm0",themes:["0-theme-chargers0","0-theme-chargers1","0-theme-chargers2","0-theme-chargers3"]},{isActive:!0,title:"chargersm1",themes:["1-theme-chargers0","1-theme-chargers1","1-theme-chargers2","1-theme-chargers3"]},{isActive:!0,title:"chargersm2",themes:["2-theme-chargers0","2-theme-chargers1","2-theme-chargers2","2-theme-chargers3"]},{isActive:!0,title:"chargersm3",themes:["3-theme-chargers0","3-theme-chargers1","3-theme-chargers2","3-theme-chargers3"]}],hasThemes:!0},{id:"dogID",code:"dog",themes:[],hasThemes:!1},{id:"edgarID",code:"edgar",themes:[],hasThemes:!1},{id:"franceID",code:"france",themes:[{isActive:!0,title:"francem0",themes:["0-theme-france0","0-theme-france1","0-theme-france2","0-theme-france3"]}],hasThemes:!0},{id:"goliathID",code:"goliath",themes:[],hasThemes:!1}]}}}),require.register("ec-init",function(e,t,s){console.log("v0.1.19 "+window.location.href);var n=function(e){this.source=e.source,this.origin=e.origin};n.prototype.sendMessage=function(e){this.source.postMessage(e,this.origin)};var o=t("embed-main"),a=null,i=null,r=null,l={},d=!1;window.addEventListener("message",function(e){if(e.data.init){r=new n(e),o.messenger=r;var s=e.data.init.url,h={sso:e.data.init.sso,userData:e.data.init.userData,url:s,pageMeta:e.data.init.pageMeta,dontCallPonder:e.data.init.dontCallPonder};t("server").authenticate(h).done(function(e){a=e,i=a.responses.data;var s=function(e,t,s,n){return Math.max(Math.min(e/t,n),s)},n=[],o=t("sentiment-styling");i.threads.forEach(function(e){var t=e.responses[0],a=t.selection,i=e.responses.length;n.push({text:a,width:s(i,1,1,10),alpha:s(i,10,.17,1),color:o(t.thtObj.evalType)}),e.id=t.id,l[a]=e}),d=n.length>0,r.sendMessage({underline:n,returnRequested:!0,activate:!0,collapse:d})},function(e){console.log("FR","error",arguments),o.setError({message:e.status+"! Something went wrong :("}),o.appendTo("#iframe")})}if(e.data.selections&&(e.data.selections.forEach(function(e){var t=l[e.text];t?(t.offsetPct=e.offsetPct,t.selectionNotFound=!e.isFound):(threadModel=o.threads.collection.findWhere({selection:e.text}),t=_.extend({id:threadModel.get("id")},e),i.threads.push(t))}),o.appendTo("#iframe"),o.addOrUpdateThreads(i.threads)),e.data.selected){var c=e.data.selected.text,p=e.data.selected.offsetPct;o.textSelected({selection:c,offsetPct:p}),d=!0}e.data.click&&o._open(e.data.click.text),e.data.dismiss&&d&&o.dismiss()}),window.parent.postMessage({ready:!0},"*"),s.exports={initWithoutHost:function(){var e=t("data").responses,s=t("server");s.context={userData:{userId:"XXXXX"}},o=shim.initialize("#iframe",e)}}}),require.register("embed-main",function(e,t,s){var n=new Thorax.View({name:"embed",id:"embed",tagName:"div",template:t("templates/embed"),handlebarsHelpers:t("helpers/handlebars"),events:{"click .error.count":"_toggleView"},isOpen:!1,initialize:function(){var e=this;this.model=new Thorax.Model({error:null,hasThreads:!1});var s=t("thread"),n=new s.ThreadCollection;this.threads=new s.ThreadCollectionView({collection:n});var o=function(){e.model.set("hasThreads",n.length>0)};n.on({add:function(){o()},destroy:function(t){o(),e.messenger.sendMessage({underline:[{text:t.get("selection"),isHidden:!0}]})},"change:thtObj change:isInFilter":function(t){e.messenger.sendMessage({underline:[t.toEmbeddedCode()]})}});var a=t("tick");this.ticks=new a({collection:n});var i=function(t){
e.messenger.sendMessage({scrollTo:{text:t.get("selection")}}),e.threads.scrollTo(t),this.isOpen||e._open()};this.ticks.itemView.on("scroll",i),this.threads.itemView.on("scroll",i);var r=t("stats"),l=new r.StatsViewModel({threads:n});this.stats=new r.StatsView({model:l}),this.threads.itemView.on("respond",function(t){e.respond(t)}),this.respondView=t("respond"),this.respondView.on({submitted:function(t){var s=e.threads.collection,n=s.findWhere({selection:t.selection});if(n){var o=n.myResponse;o?o.set(t):n.responses.add(t)}else n=e.threads.addAndScrollTo({responses:[t]}),e.messenger.sendMessage({underline:[n.toEmbeddedCode()],returnRequested:!0,dismissSelected:!0})},canceled:function(){e.messenger.sendMessage({dismissSelected:!0})},error:function(t){var s=(t.status||"")+"! Something went wrong :(";e.setError({message:s})}});var d=t("filters")(n);this.filterView=d.view,d.on("filter",function(e){n.each(function(t){var s={},n=!0;_.each(e,function(e){var o=!e.threads||e.threads.contains(t);s[e.id]=o,n=n&&o}),t.set("isInFilter",n),t.set("singleFilters",s)}),d.afterFilter()}),this.sortView=t("sort")(n),this.sortView.model.on("change:sort",function(t){var s=t.get("sort"),n=e.threads.collection;switch(s){case"replyCount":n.comparator=function(e){return-1*e.get("replyCount")};break;case"themeCount":n.comparator=function(e){return-1*e.get("themesColl").length};break;case"controversey":n.comparator=function(e){var t=e.get("replyCount");return t==-0?1e7:-1*(e.get("themesColl").length+e.filterTags.sentiments.length)};break;case"recency":n.comparator=function(e){return-1*e.get("maxtsThread")};break;default:n.comparator="offsetPct"}n.sort()})},addOrUpdateThreads:function(e){this.threads.collection.set(e)},setError:function(e){this.model.set("error",e),this.isOpen||this.messenger.sendMessage({collapse:!0})},respond:function(e){this.respondView.openWith({appendTo:e.appendTo,before:e.before,parent:this.threads.$el,data:e.data,selection:e.selection,isNew:e.isNew})},textSelected:function(e){var s=null,n=_.find(this.threads.children,function(t){var s=t.el.parentNode&&t.model.get("isInFilter");return s&&t.model.get("offsetPct")>e.offsetPct});n&&(s=n.$el);var o=_.extend({url:t("server").context.url},e);this.threads.collection.each(function(e){e.set("isHighlighted",!1)}),this.respond({data:o,before:s,selection:e.selection,isNew:!0}),this._open()},_toggleView:function(){this.isOpen?this._close():this._open()},_open:function(e){if(e){var t=this.threads.collection.findWhere({selection:e});t&&this.threads.scrollTo(t)}this.isOpen=!0,this.messenger.sendMessage({expand:!0})},_close:function(){this.isOpen=!1,this.messenger.sendMessage({collapse:!0})},dismiss:function(){this._close(),this.respondView.close()}});s.exports=n}),require.register("filters",function(e,t,s){var n=Thorax.Model.extend({initialize:function(){var e=this;this.set("label",this.id);var t=this.get("threads");this.set("count",t.length),t.on("add remove",function(t){e.set("count",this.length)})}}),o=Thorax.Collection.extend({model:n,comparator:function(e){return-e.get("count")},initialize:function(){var e=this;this.on("destroy",function(t){e.trigger("reset")})}}),a=Thorax.View.extend({className:"filterTag",tagName:"option",template:t("templates/filterTag"),events:{rendered:function(){this.$el.prop("value",this.model.get("label"))}}}),i=(Thorax.CollectionView.extend({itemView:a,tagName:"optgroup"}),Thorax.Model.extend({initialize:function(){var e=this;this.refreshTags=_.debounce(this.refreshTags,50),this.set("label",this.id),this.filterTags=new o,this.get("threads").on("add remove filter:"+this.id,function(){e.refreshTags()}),this.count(),this.filterTags.on({"add remove":function(){e.count()},reset:function(){console.log("triggering resetSelection?"),e.trigger("resetSelection")}})},count:function(){this.set("count",this.filterTags.length)},refreshTags:function(){var e=this,t={};this.get("threads").each(function(s){var n=s.get("singleFilters");s.filterTags[e.id].each(function(o){var a=o.get("id"),i=_.chain(n).map(function(t,s){return e.id===s||t}).every().value();if(i){var r=t[a]=t[a]||[];r.push(s)}})}),tags=_.map(t,function(e,t){return new n({id:t,threads:new Thorax.Collection(e)})}),this.filterTags.set(tags)}})),r=Thorax.View.extend({className:"filter",tagName:"select",template:t("templates/filter-selector"),events:{rendered:"syncSelected",change:function(e){var t=$(e.target).val();this.selectedValue=t;var s=this.model.filterTags.findWhere({label:t}),n=s?s.get("threads"):null;this.model.set("selectedThreads",n)}},initialize:function(){_.bindAll(this,"syncSelected"),this.filterTags=new Thorax.CollectionView({collection:this.model.filterTags,itemView:a,tagName:"optgroup"}),this.selectedValue="xxx-none-selected",this.filterTags.on("rendered:collection",this.syncSelected)},syncSelected:function(){this.$el.val(this.selectedValue)}}),l=Thorax.CollectionView.extend({id:"filters",itemView:r,itemFilter:function(e,t){return e.get("count")>0}}),d=Thorax.Model.extend({labels:["groups","responders","sentiments","themes"],initialize:function(){var e=this,t=this.get("threadCollection"),s=_.map(this.labels,function(e){return new i({id:e,threads:t})});coll=new Thorax.Collection(s),coll.on("change:selectedThreads",function(){e.trigger("filter",coll.map(function(e){return{id:e.id,threads:e.get("selectedThreads")}}))}),this.view=new l({collection:coll})},afterFilter:function(){this.view.collection.each(function(e){e.refreshTags()})}}),h=function(e){return new d({threadCollection:e})};s.exports=h}),require.register("helpers/handlebars",function(e,t,s){s.exports=Handlebars.registerHelper("eachkeys",function(e,t){var s=t.fn,n=t.inverse,o="",a=!0;for(key in e){a=!1;break}if(a)o=n(this);else for(key in e)o+=s({key:key,value:e[key]});return o}),s.exports=Handlebars.registerHelper("getSegmentedTime",function(e,t){if(e){var s=Math.floor(e/86400),n=Math.floor(e%86400/3600),o=Math.floor(e%3600/60),a=e%60,i=function(e,t){return e>0?e+t:""},r=i(s,"d")+i(n,"h")+i(o,"m")+i(a,"s");return r?r:"1s"}}),s.exports=Handlebars.registerHelper("getFancyDateTimeDelta",function(e,t){if(e){var s,n,o=new Date-new Date(e),a=[{threshold:6e4},{unit:"minute",threshold:60},{unit:"hour",threshold:24},{unit:"day",threshold:30},{unit:"month",threshold:12},{unit:"year",threshold:100}];for(var i in a){var r=a[i];if(o<r.threshold){s=r.unit,n=Math.floor(o);break}o/=r.threshold}return s?n?(1!=n&&(s+="s"),n+" "+s+" ago"):"Over a year ago":"Just now"}}),s.exports=Handlebars.registerHelper("pluralize",function(e,t,s){return"string"==typeof t?e>1||1>e?t.replace(/s$/,"")+"s":t.replace(/s$/,""):e>1||1>e?"s":""}),s.exports=Handlebars.registerHelper("ifCompare",function(e,t,s,n){switch(t){case"==":return e==s?n.fn(this):n.inverse(this);case"===":return e===s?n.fn(this):n.inverse(this);case"<":return s>e?n.fn(this):n.inverse(this);case"<=":return s>=e?n.fn(this):n.inverse(this);case">":return e>s?n.fn(this):n.inverse(this);case">=":return e>=s?n.fn(this):n.inverse(this);case"&&":return e&&s?n.fn(this):n.inverse(this);case"||":return e||s?n.fn(this):n.inverse(this);default:return n.inverse(this)}})}),require.register("helpers/jquery.carousel",function(e,t,s){$.widget("custom.carousel",{options:{msPerCharacter:40,minStop:5e3,manualStop:9e4,verbose:!1,prevNextClass:null,start:0},_create:function(){this.element.addClass("carousel-container"),this._refresh(),this._on(this.element,{mouseenter:"_stop",mouseleave:"_start"})},_refresh:function(){if(this._stop(),this._removePrevNext(),this.itemCount=this.element.children().length,this.isCarousel=this.itemCount>=2,this.isCarousel){var e=this,t={next:"&#8594;",prev:"&#8592;"};$.each(t,function(t,s){var n=$("<div>").addClass(t).addClass(e.options.prevNextClass).html(s);e.element.append(n),e._on(n,{click:"_prevNextClick"})})}this.element.children("li:not(:eq("+this.options.start+"))").hide(),this.shownIndex=this.options.start,this.start()},_prevNextClick:function(e){this.rotate($(e.target).hasClass("next"))},rotate:function(e){this._rotate(e,!0)},_rotate:function(e,t){this.shownItem&&$(this.shownItem).hide(),this.shownIndex=(this.shownIndex+(e?1:this.itemCount-1))%this.itemCount,this.shownItem=this.element.children()[this.shownIndex],this.options.verbose&&console.log("[CAROUSEL] Rotating",t?"manual":"auto",e?"forward":"backward",this.shownIndex,this.shownItem);var s=this;$(this.shownItem).fadeIn("slow",function(){var e=t?s.options.manualStop:Math.max(s.options.minStop,$(s.shownItem).text().length*s.options.msPerCharacter);s.options.verbose&&console.log("[CAROUSEL] Next rotate",e),s._setRotateTimeout(e)}),this._trigger("itemchange",null,this.shownItem)},_setRotateTimeout:function(e){this._rotateTimeout&&clearTimeout(this._rotateTimeout);var t=this;this._rotateTimeout=setTimeout(function(){t._rotate(!0,!1)},e)},start:function(){this.isStopped=!1,this.isCarousel?(this.options.verbose&&console.log("[CAROUSEL] Starting",this),this.shownIndex-=1,this.shownItem=null,this._rotate(!0)):(this.options.verbose&&console.log('[CAROUSEL] 1 item, "Starting"',this),this.shownIndex=0,this.shownItem=this.element.children().first().show(),this._trigger("itemchange",null,this.shownItem))},_start:function(){this.isStopped||this.start()},stop:function(){return this.isStopped=!0,this._stop()},_stop:function(){return this.options.verbose&&console.log("[CAROUSEL] Stopping",this),clearTimeout(this._rotateTimeout),this.shownItem},_removePrevNext:function(){this.element.siblings("."+this.options.prevNextClass).remove()},_destroy:function(){this._stop(),this._removePrevNext(),this.element.removeClass("carousel-container"),this.element.children().show()},remove:function(e){var t=this;this._stop(),this.element.children(e).fadeOut("slow",function(){$(this).remove(),t._refresh()})}})}),require.register("helpers/jquery.widgets",function(e,t,s){var n={SUCCESS:1,PROCESSING:0};$.widget("ponder.selector",{options:{isRadio:!1,siblings:null},_init:function(){this.options.siblings=this.options.siblings||this.element.siblings()},_create:function(){this.element.addClass("ponder_selector"),this._on({click:$this._toggle})},_toggle:function(){this.element.toggleClass("ponder_selected",!0,"slow"),this.options.isRadio&&this.options.siblings.toggleClass("ponder_selected",!1,"fast")},_destroy:function(){this.element.removeClass("ponder_selector")}}),$.widget("ponder.textfeedback",{_update:function(e,t){switch(e){case n.PROCESSING:this.element.text("...");break;case n.SUCCESS:this.element.text("Yay!"),t&&setTimeout(function(){t()},1e3);break;default:this.element.text(e)}},giveFeedback:function(e,t,s){e?this._update(n.SUCCESS,s):this._update(t)}}),$.widget("ponder.feedback",{_create:function(){var e=this;this._feedback=$("<div>").addClass("ponder_feedback"),this._message=$("<div>").addClass("ponder_feedback-message middled-box").hide(),this._on({"focusin click.ponder_feedback-message":function(){e._message.fadeOut("fast")}})},_update:function(e){var t=this;switch(this._feedback.stop(!0,!0).toggleClass("ponder_feedback-processing ponder_feedback-success",!1,"fast"),this._message.stop(!0,!0).hide(),e){case n.PROCESSING:this._feedback.toggleClass("ponder_feedback-processing",!0,"slow");break;case n.SUCCESS:this._feedback.removeClass("ponder_feedback-processing"),this._feedback.toggleClass("ponder_feedback-success",!0,"fast",function(){t.element.attr("disabled",!1),$(this).delay(1500).toggleClass("ponder_feedback-success",!1,"fast")});break;default:"text"==this.options.type?this.element.text("..."):this._message.text(e).fadeIn("slow",function(){t.element.attr("disabled",!1)})}},giveFeedback:function(e,t){e?this._update(n.SUCCESS):this._update(t)},_destroy:function(){this._feedback.remove(),this._message.remove()}}),$.widget("ponder.submitinput",$.ponder.feedback,{_create:function(){this._supper(),this.element.wrap($("<div>").addClass("ponder_feedback-wrapper")).after($this._message).after($this._feedback)},_destroy:function(){this.element.unwrap(),this._super()}}),$.widget("ponder.submitform",$.ponder.feedback,{_create:function(){var e=this;this._super(),e.element.append(e._feedback).append(e._message).addClass("ponder_feedback-wrapper"),this._on({click:function(){this.element.attr("disabled")||(this.element.attr("disabled",!0),e.giveFeedback(!1,n.PROCESSING),this._trigger("onSubmit"))}})}}),$.widget("ponder.validate",$.ponder.feedback,{options:{isRequired:!1},_init:function(){isRequired&&(this._originalValue=this.element.val()),this._value=this.element.val()},_create:function(){this._super(),this._on({focusout:function(e){$this.options.isRequired&&!e.target.value&&this.element.val($this._originalValue)},"keyup change":function(e){var t=e.target.value;t!=$this._value&&($this._value=t),t&&($this._trigger("onSubmit",$this._value),$this.givefeedback(!1,n.PROCESSING))}})}}),$.widget("ponder.confirmsubmit",{options:{confirmLabel:"For reals?",widgetClass:"ponder_confirm-submit-button",giveFeedback:!0,feedbackType:"textfeedback",choices:null,chosen:null},_create:function(){var e=this;this._label=$("<div>")[this.options.feedbackType]({confirmLabel:e.options.confirmLabel}).addClass("ponder_confirm ponder_label").text(e.options.confirmLabel).hide(),this._yes=$("<div>").addClass("ponder_confirm ponder_button ponder_yes").text("Ok"),this._no=$("<div>").addClass("ponder_confirm ponder_button ponder_no").text("No"),this.element.addClass(e.options.widgetClass).wrap($("<div>")),this._wrapper=this.element.parent().addClass(e.options.widgetClass+"-wrapper ponder_widget-wrapper").append(e._label).append(e._yes).append(e._no),this._on({click:function(e){this._trigger("onClick"),this._confirm()}}),this._on(this._wrapper,{click:function(e){e.stopPropagation()},"click .ponder_yes":function(e){var t=Linq(this.options.chosen).where("p=>p.isChosen").select("p=>p.value").toArray();this.giveFeedback(!1,n.PROCESSING),this._trigger("onSubmit",e,{chosen:t})},"click .ponder_no":function(e){this._trigger("onCancel"),this.reset()}})},_submit:function(){this._on(this.wrapper,{})},reset:function(){this.element.siblings().fadeOut("fast"),this.element.fadeIn("fast")},_confirm:function(){this.element.siblings().fadeIn("slow"),this.element.fadeOut("fast")},giveFeedback:function(e,t){var s=this,n=e&&"textfeedback"==this.options.feedbackType,o=function(){s._label.text(s.options.confirmLabel)};this._label[this.options.feedbackType]("giveFeedback",e,t,n?o:null)},_destroy:function(){this.element.siblings().remove(),this.element.removeClass($this.options.widgetClass)}}),Linq=Enumerable.from,$.widget("ponder.confirmchoice",$.ponder.confirmsubmit,{_create:function(){this._super();var e=this;this.options.chosen=_.clone(this.options.choices),this._yes.attr("disabled",!e._isDeletable());var t=$("<div>").addClass("choices-wrapper ponder_confirm").insertAfter(e._label);$.each(this.options.choices,function(s,n){$("<button>").attr({type:"button",disabled:n.disabled,value:n.value}).text(n.label).click(function(t){var o=e.options.chosen[s];n.disabled||(o.isChosen=!o.isChosen,$(t.target).toggleClass("chosen",o.isChosen,"fast"),e._yes.attr("disabled",!e._isDeletable()))}).appendTo(t)})},_isDeletable:function(){return Linq(this.options.chosen).any("p=>p.isChosen==true")}})}),require.register("helpers/jqueryui.ballot",function(e,t,s){$.widget("custom.ballot",{options:{choices:[],ballotId:"votes",canVote:!0,ignoreVote:!1,onvote:null,mouseenter:null,mouseleave:null},_modes:{RESULTS:0,VOTING:1},_create:function(){this.hasVoted=!1,this.hasVotes=!1,this.choices={};var e=this;$.each(this.options.choices,function(t,s){e.hasVoted=e.hasVoted||s.isSelected,e.hasVotes=e.hasVotes||s.voteCount>0;var n=$("<div>").addClass(s.id+"-div ballot-choice radio "+e.options.ballotId).appendTo(e.element).data(s);e._on(n,{click:"vote"}),e.choices[s.id]=n}),this.element.attr("hidden",!e.hasVotes),this._on(this.element,{mouseenter:"_mouseenterleave",mouseleave:"_mouseenterleave"}),this._refresh()},_refresh:function(e){var t=this._modes,s=e||t.RESULTS;this.options.canVote?this.hasVotes||(s=t.VOTING):s=t.RESULTS,this.choiceSelector="."+this.options.ballotId;var n=this;$.each(this.choices,function(){var e=$(this),o=null,a=null;if(s==t.RESULTS){var i=e.data("resultFormatter");o=e.data("voteCount"),i&&(o=i(o)),a=n.hasVotes&&(!n.hasVoted||e.data("isSelected"))}else o=e.data("label"),a=!1;e.toggleClass("vote-cur",e.data("isSelected")).toggleClass("results",a,"slow").toggleClass("cant-vote",!n.options.canVote).toggleClass("has-votes",n.hasVotes&&!n.hasVoted).text(o)})},unvote:function(){$(this.choiceSelector).each(function(){var e=$(this).data();e.isSelected&&(e.voteCount-=1,e.isSelected=!1)})},vote:function(e){var t=$(e.target).data();!this.options.canVote||this.options.ignoreVote||t.isSelected||(this.unvote(),t.voteCount+=1,t.isSelected=!0,this.hasVoted=!0,this.hasVotes=!0,this._trigger("onvote",e,$.extend({},t))),this._refresh()},mouseenterleave:function(e){this.hasVotes||$(this.element).stop(!0,!0).slideToggle("fast")},_mouseenterleave:function(e){$(this.element).toggleClass("mouseenter","mouseenter"==e.type,"fast"),this._refresh("mouseenter"==e.type?this._modes.VOTING:this._modes.RESULTS),this._trigger(e.type)},_destroy:function(){$(this.choiceSelector).remove()},_setOptions:function(){this._superApply(arguments),this._refresh()}})}),require.register("model-base",function(e,t,s){var n=Thorax.Model.extend({sync:function(){}});s.exports={LocalModel:n}}),require.register("respond",function(e,t,s){var n=(Enumerable.from,Thorax.View.extend({template:t("templates/respond"),tagName:"div",id:"respond",model:new Thorax.Model,events:{rendered:function(){Flagbox.init({config:t("server").context.config,container:this.$("#pdr-flagbox-placeholder")}),this.ensureFlagboxListeners()}},ensureFlagboxListeners:_.once(function(){var e=this;Flagbox.on("submit",function(t){e.submit(t),localStorage.setObject("embed.flagbox",{groups:t.groups})}),Flagbox.on("cancel",function(){e.cancel()})}),initialize:function(){var e=this;this.model.on("change:isNew",function(t,s){e.$el.toggleClass("new",s)})},openWith:function(e){e=e||{},e.appendTo?$(e.appendTo).append(this.$el):e.before?$(e.before).before(this.$el):$(e.parent).append(this.$el),this.ensureRendered(),this.$el.hide(),this.model.set("selection",e.selection),this.model.set("isNew",e.isNew),e.data=e.data||{},e.isNew&&!e.data.groups&&(e.data.groups=(localStorage.getObject("embed.flagbox")||{}).groups),e.data&&Flagbox.load(e.data),this.responseData=e.data,this.$el.fadeIn("slow");var t=this.$el.parent(".thread-wrapper")[0]||this.$el;$(e.parent).scrollTo(t,500)},close:function(){this.$el.fadeOut("fast")},cancel:function(){this.close(),this.trigger("canceled")},submit:function(e){var s=this,n=t("server").context,o=_.extend(this.responseData,e,{url:n.url,ts:(new Date).toISOString()});this.close(),n.responses.update(o).done(function(e){o.id=e.id,_.extend(o,{maxts:o.ts,userId:n.userData.userId,username:n.userData.username}),s.trigger("submitted",o)},function(e){s.trigger("error",e)})}}));s.exports=new n}),require.register("response",function(e,t,s){var n=(Enumerable.from,t("model-base").LocalModel),o=Thorax.View.extend({"delete":t("helpers/jquery.widgets"),handlebarsHelpers:t("helpers/handlebars"),initialize:function(){var e=this;this.model.on("change:deletableGroups",function(){e._refreshDelete()})},events:{ready:function(){var e=this;this.$el.on("mouseenter mouseleave",function(t){t.stopPropagation(),e._toggleExtras()})},populate:"_refreshDelete"},_toggleExtras:function(e){this.isDeleting||this.$(".thread-extras").stop(!0,!0).fadeToggle("fast")},_refreshDelete:function(){var e,t=this,s=this.model.get("deletableGroups")||[],n=_.map(s,function(e){return{label:e.name,value:e.id,disabled:!e.deletable}});e=n.length>1?{widget:"confirmchoice",label:"Deleting from"}:{widget:"confirmsubmit",label:"Delete?"};this.$(this.deleteButton)[e.widget]({choices:n,confirmLabel:e.label,onClick:function(){t.isDeleting=!0},onCancel:function(){t.isDeleting=!1},onSubmit:function(n,o){var a;a="confirmchoice"==e.widget?o.chosen:_.map(s,function(e){return e.id}),t.model.remove_groups(a),t.isDeleting=!1}})}}),a=n.extend({defaults:{deletable:!1},initialize:function(){this.get("username")||this.set("username","Someone"),this._refreshDeletable(),this.on("change:groups",this._refreshDeletable)},_refreshDeletable:function(){var e=t("server").context,s=e.config,n=this.get("userId"),o=this.get("groups"),a=n===e.userData.userId,i=!1,r=_.map(o,function(e){var t=_.findWhere(s.groups,{id:e})||{},n=_.findWhere(s.memberships,{group:e})||{},o=a||0===n.role;return i=i||o,{id:e,name:t.name||e,deletable:o}});this.set("deletable",i),this.set("deletableGroups",r)},remove_groups:function(e){var s=this,n=t("server").context,o={id:this.get("id"),groups:e,ts:(new Date).toISOString()};n.responses.removeGroups(o).done(function(t){var n=s.get("groups");n=_.difference(n,e),0===n.length?s.destroy():s.set("groups",n)},function(e){var s=t("embed-main");s.setError({message:(e.status||"")+"! Something went wrong :("})})}}),i=o.extend({className:"reply",template:t("templates/reply"),deleteButton:".reply .delete"}),r=Thorax.Collection.extend({model:a}),l=Thorax.CollectionView.extend({itemView:i});s.exports={ReplyCollectionView:l,ResponseView:o,ReplyCollection:r}}),require.register("sentiment-styling",function(e,t,s){var n={understand:"rgba(226,202,81, .5)",evaluate:"rgba(0,102,0, .5)",react:"rgba(225,0,67, .5)",mine:"rgb(51,0,51)"};s.exports=function(e){return e=e||"",e=e.toLowerCase(),n[e]}}),require.register("server",function(e,t,s){var n=when.defer(),o=function(e){e=e||{};var t,o,a=e.url,i=e.pageMeta,r=e.dontCallPonder;if(e.userData)o=e.userData,t=when(e.userData);else{var l=e.sso;o={username:l.username},t=when($.ajax({method:"post",url:"/api/2.1/core/embed/sso/",data:JSON.stringify(l),contentType:"application/json"}))}return t=t.then(function(e){o.userToken=e.userToken,o.userId=e.userId;var t,l=function(e,t,s){return s=_.extend({method:"post",contentType:"application/json",headers:{Authorization:"UserToken "+o.userToken}},s,{url:e,data:JSON.stringify(t)}),when($.ajax(s))};t=r?when({threads:[]}):$.ajax({method:"post",url:"/api/2.1/text/responses/get/",data:JSON.stringify({url:a,meta:i}),contentType:"application/json",headers:{Authorization:"UserToken "+o.userToken}});var d=when.join(function(){var e=localStorage.getObject("embed.config")||{},t=e.config,s=e.lastFetch||0,n=108e5;return!t||t.userId!=o.userId||s+n<(new Date).valueOf()?$.ajax({method:"get",url:"/api/2.1/core/embed/config/",headers:{Authorization:"UserToken "+o.userToken,"X-Ponder-Client":"embed/0.1.19"},success:function(e){localStorage.setObject("embed.config",{config:e,lastFetch:(new Date).valueOf()})}}):t}(),t).then(function(e){o.username=e[0].username;var t=e[0],r=Linq(t.groups).toObject("p=>p.id","p=>p.name"),d=0,h={url:a,userData:o,config:t,responses:{data:e[1],update:function(e){return e=_.extend({meta:i},e),l("/api/2.1/text/responses/update/",e)},removeGroups:function(e){return l("/api/2.1/text/responses/remove_groups/",e)}},lookupGroup:function(e){var t=r[e];return t||(t="Group "+String.fromCharCode(65+d),d+=1,r[e]=t),t}};return n.resolve(h),s.exports.context=h,h});return d})};s.exports={authenticate:o,promise:n.promise,context:null}}),require.register("sort",function(e,t,s){var n=Thorax.View.extend({id:"sort",tagName:"select",template:t("templates/sort-selector"),events:{rendered:"syncSelected",change:function(e){var t=$(e.target).val();this.model.set("sort",t)}},initialize:function(){_.bindAll(this,"syncSelected"),this.model.set("sort","xxx-none-selected")},syncSelected:function(){this.$el.val(this.model.get("sort"))}}),o=function(e){return new n({model:new Thorax.Model})};s.exports=o}),require.register("stats",function(e,t,s){var n=Enumerable.from,o=Thorax.Model.extend({initialize:function(){var e=this,t=new Thorax.Collection;e.set("responseCount",t.length),t.on("add remove",function(){e.set("responseCount",this.length)});var s=this.get("threads");this.set("threadCount",s.length),s.on({"add remove":function(){e.set("threadCount",this.length)},add:function(e){t.add(e.responses.models),e.responses.on("add",function(e){t.add(e)})}}),this.set("notifications",this.notify())},notify:function(){var e=this.get("mints"),t=this.get("mints");if(moment(e).isBefore(t))return null;var s=n(this.get("reads")).where(function(s){return moment(s.mints).isAfter(t)&&moment(s.mints).isAfter(e)}).toArray().length,o=n(this.get("threads")).selectMany("t=>t.responses").where(function(s){return moment(s.mints).isAfter(t)&&moment(s.mints).isAfter(e)}).toArray().length,s=0,o=0;return(s>0||o>0)&&{readers:s,responses:o}}}),a=Thorax.View.extend({id:"meta",tagName:"div",template:t("templates/stats")});s.exports={StatsViewModel:o,StatsView:a}}),require.register("thread",function(e,t,s){var n=t("response"),o=n.ReplyCollectionView,a=n.ResponseView,i=n.ReplyCollection,r=t("model-base").LocalModel,l=Thorax.Collection.extend({refreshFromResponses:function(e){var t=e.models.map(this.processResponse);t=_.flatten(t),t=_.compact(t);var s={};t.forEach(function(e){var t=s[e.id]=s[e.id]||_.extend({count:0},e);t.count+=1}),t=_.values(s),this.set(t)},processResponse:function(e){return{id:e.get("thtObj")["short"]}}}),d=l.extend({processResponse:function(e){var s=t("server").context;return _.map(e.get("groups"),function(e){return{id:s.lookupGroup(e)}})}}),h=l.extend({processResponse:function(e){return _.map(e.get("themes"),function(e){return{id:e}})}}),c=l.extend({processResponse:function(e){return{id:e.get("username")}}}),p=l.extend({processResponse:function(e){return{id:e.get("thtObj").evalType}}}),u=r.extend({defaults:{isInFilter:!0,isHighlighted:!1},initialize:function(){var e=this;_.bindAll(this,"refreshMyResponse","refreshSentiment"),this.filterTags={sentiments:new l,themes:new h,groups:new d,responders:new c,sentimentTypes:new p},this.set("themesColl",this.filterTags.themes),this.set("sentimentTypesColl",this.filterTags.sentimentTypes),_.each(this.filterTags,function(t,s){t.on("add remove change",function(){e.trigger("filter:"+s)})}),this.responses=new i(this.get("responses")),this.replies=this.responses.clone(),this.set("replyCount",this.replies.length),this.replies.on("add remove",function(){e.set("replyCount",e.replies.length)}),this.responses.on({add:function(t){e.replies.add(t)},remove:function(t){e.replies.remove(t)},"add remove change:tht change:groups change:themes":function(){e.refreshFilters()}}),this.refreshFilters(),this.promoteNextResponse(),this.refreshMyResponse(),this.responses.on("add remove",this.refreshMyResponse),this.refreshSentiment(),this.on("change:thtObj change:hasResponded",this.refreshSentiment)},refreshMyResponse:function(){var e=this,s=t("server").context;this.myResponse=this.responses.findWhere({userId:s.userData.userId}),this.set("hasResponded",!!this.myResponse),this.myResponse&&this.myResponse.on("destroy",function(){e.set("hasResponded",!1)})},refreshSentiment:function(){var e,s=t("sentiment-styling");if(this.get("hasResponded"))e="mine";else{var n=this.get("thtObj")||{};e=n.evalType||"mine"}this.set("color",s(e))},promoteNextResponse:function(){var e=this,t=this.replies.shift();return t?(this.head=t,this.set(t.attributes),void t.on({destroy:function(t,s,n){e.promoteNextResponse()},change:function(t){_.each(t.changed,function(t,s){e.set(s,t)})}})):void this.destroy()},refreshFilters:function(){var e=this;_.each(this.filterTags,function(t,s){t.refreshFromResponses(e.responses)}),this.set("maxtsThread",this.responses.chain().map(function(e){return moment(e.get("maxts")).valueOf()}).max().value())},remove_groups:function(e){this.head.remove_groups(e)},toEmbeddedCode:function(){var e=t("sentiment-styling");return{text:this.get("selection"),color:e(this.get("thtObj").evalType),isHidden:!this.get("isInFilter")}}}),g=a.extend({className:"thread-wrapper",template:t("templates/thread"),deleteButton:".thread-extras .delete",initialize:function(){var e=this;a.prototype.initialize.apply(this),this.repliesView=new o({collection:this.model.replies}),this.model.on("change:isHighlighted",function(t,s){e.$el.toggleClass("highlighted",s)})},events:{"click .respond":"_popFlagbox","click .star":"_toggleStar","click .tnt-sum":"_toggleThread","click .selection":"_scroll",rendered:function(){var e=this.model.get("selection"),t=Math.floor(73-9.4746*Math.log(e.length))+"px";this.$(".selection").css("font-size",t)}},_popFlagbox:function(){var e=this.model.myResponse,t={};if(e)t=_.clone(e.attributes);else{var s=null;this.model.head&&(s=this.model.head.get("id")),t={id:null,threadId:s,selection:this.model.get("selection")}}this.trigger("respond",{data:t,appendTo:this.$el})},_toggleStar:function(e){this.model.toggleStar();var t={value:this.model.get("isStarred"),threadId:this.model.id,ts:(new Date).toISOString()};console.log("FR","POST star",t)},_toggleThread:function(){this.$(".replies").stop(!0,!0).slideToggle("fast")},_scroll:function(){this.trigger("scroll",this.model)}}),f=Thorax.Collection.extend({model:u,comparator:"offsetPct"}),m=Thorax.CollectionView.extend({id:"threads",filters:{},itemView:g,initialize:function(){var e=this;this.on("rendered:collection",function(){var t=_.find(e.children,function(e){return!!e.el.parentNode&&e.model.get("isHighlighted")});t&&e.$el.scrollTo(t.$el)}),this.scrollTo=_.debounce(this.scrollTo,50)},itemFilter:function(e){return e.get("isInFilter")},addAndScrollTo:function(e){return model=new this.collection.model(e),this.collection.add(model),this.scrollTo(model),model},scrollTo:function(e){this._setHighlighted(e);var t=$("[data-model-cid="+e.cid+"]");this.$el.scrollTo(t,500)},_setHighlighted:function(e){this.collection.each(function(t){t.set("isHighlighted",t===e)})}});s.exports={ThreadCollection:f,ThreadCollectionView:m}}),require.register("tick",function(e,t,s){var n=Thorax.View.extend({className:"tick",tagName:"div",template:t("templates/tick"),initialize:function(){_.bindAll(this,"position","scroll","setStyle")},events:{click:"scroll",ready:function(){this.setStyle(),this.position(),this.model.on("change:color",this.setStyle),this.model.on("change:offsetPct",this.position)}},position:function(){var e=this.model.get("offsetPct");e*=.85,this.$el.css("top",e+"vh")},scroll:function(){this.trigger("scroll",this.model)},setStyle:function(){this.$el&&this.$el.css("background-color",this.model.get("color"))}}),o=Thorax.CollectionView.extend({itemView:n,itemFilter:function(e){return e.get("isInFilter")&&!e.get("selectionNotFound")}});s.exports=o}),require.register("templates/embed",function(e,t,s){var n=Handlebars.template(function(e,t,s,n,o){function a(e,t){var s,n="";return n+='\n<div class="count error"><span>!</span></div>\n<div id="error" class="banner">'+p((s=e&&e.error,s=null==s||s===!1?s:s.message,typeof s===c?s.apply(e):s))+"</div>\n"}function i(e,t){var n,o,a="";return a+="\n		"+p((n=s.view||e&&e.view,o={hash:{},data:t},n?n.call(e,e&&e.stats,o):u.call(e,"view",e&&e.stats,o)))+"\n		"+p((n=s.view||e&&e.view,o={hash:{},data:t},n?n.call(e,e&&e.filterView,o):u.call(e,"view",e&&e.filterView,o)))+'\n	<div id="sort-wrapper">\n		'+p((n=s.view||e&&e.view,o={hash:{},data:t},n?n.call(e,e&&e.sortView,o):u.call(e,"view",e&&e.sortView,o)))+"\n	</div>\n"}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,e.helpers),o=o||{};var r,l,d,h="",c="function",p=this.escapeExpression,u=s.helperMissing,g=this;return r=s["if"].call(t,t&&t.error,{hash:{},inverse:g.noop,fn:g.program(1,a,o),data:o}),(r||0===r)&&(h+=r),h+="\n",r=s["if"].call(t,t&&t.hasThreads,{hash:{},inverse:g.noop,fn:g.program(3,i,o),data:o}),(r||0===r)&&(h+=r),h+="\n"+p((l=s.view||t&&t.view,d={hash:{},data:o},l?l.call(t,t&&t.threads,d):u.call(t,"view",t&&t.threads,d)))+"\n"+p((l=s.view||t&&t.view,d={hash:{},data:o},l?l.call(t,t&&t.ticks,d):u.call(t,"view",t&&t.ticks,d)))+"\n"});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof s&&s&&s.exports&&(s.exports=n)}),require.register("templates/filter-selector",function(e,t,s){var n=Handlebars.template(function(e,t,s,n,o){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,e.helpers),
o=o||{};var a,i,r,l="",d="function",h=this.escapeExpression,c=s.helperMissing;return l+='<optgroup>\n	<option value="xxx-none-selected">',(i=s.count)?a=i.call(t,{hash:{},data:o}):(i=t&&t.count,a=typeof i===d?i.call(t,{hash:{},data:o}):i),l+=h(a)+" "+h((i=s.pluralize||t&&t.pluralize,r={hash:{},data:o},i?i.call(t,t&&t.count,t&&t.label,r):c.call(t,"pluralize",t&&t.count,t&&t.label,r)))+"</option>\n</optgroup> -->\n"+h((i=s.view||t&&t.view,r={hash:{},data:o},i?i.call(t,t&&t.filterTags,r):c.call(t,"view",t&&t.filterTags,r)))});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof s&&s&&s.exports&&(s.exports=n)}),require.register("templates/filterTag",function(e,t,s){var n=Handlebars.template(function(e,t,s,n,o){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,e.helpers),o=o||{};var a,i,r="",l="function",d=this.escapeExpression;return r+="(",(i=s.count)?a=i.call(t,{hash:{},data:o}):(i=t&&t.count,a=typeof i===l?i.call(t,{hash:{},data:o}):i),r+=d(a)+") ",(i=s.label)?a=i.call(t,{hash:{},data:o}):(i=t&&t.label,a=typeof i===l?i.call(t,{hash:{},data:o}):i),r+=d(a)+" "});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof s&&s&&s.exports&&(s.exports=n)}),require.register("templates/reply",function(e,t,s){var n=Handlebars.template(function(e,t,s,n,o){function a(e,t){var s="";return s+='<span class="theme">'+u(typeof e===p?e.apply(e):e)+"</span>"}function i(e,t){var n,o,a="";return a+=' \n    <div class="elaboration">',(o=s.note)?n=o.call(e,{hash:{},data:t}):(o=e&&e.note,n=typeof o===p?o.call(e,{hash:{},data:t}):o),a+=u(n)+"</div>\n  "}function r(e,t){return'      \n    <div class="delete">&#10005;</div>\n  '}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,e.helpers),o=o||{};var l,d,h,c="",p="function",u=this.escapeExpression,g=s.helperMissing,f=this;return c+='<li class="reply">\n  <span class="ts">'+u((d=s.getFancyDateTimeDelta||t&&t.getFancyDateTimeDelta,h={hash:{},data:o},d?d.call(t,t&&t.maxts,h):g.call(t,"getFancyDateTimeDelta",t&&t.maxts,h)))+'</span>\n  <span class="byline"><span class="username">',(d=s.username)?l=d.call(t,{hash:{},data:o}):(d=t&&t.username,l=typeof d===p?d.call(t,{hash:{},data:o}):d),c+=u(l)+'</span><span class="sentiment">&nbsp;'+u((l=t&&t.thtObj,l=null==l||l===!1?l:l.thirdPerson,typeof l===p?l.apply(t):l))+"</span></span>\n  ",l=s.each.call(t,t&&t.themes,{hash:{},inverse:f.noop,fn:f.program(1,a,o),data:o}),(l||0===l)&&(c+=l),c+="\n  ",l=s["if"].call(t,t&&t.note,{hash:{},inverse:f.noop,fn:f.program(3,i,o),data:o}),(l||0===l)&&(c+=l),c+="\n  ",l=s["if"].call(t,t&&t.deletable,{hash:{},inverse:f.noop,fn:f.program(5,r,o),data:o}),(l||0===l)&&(c+=l),c+="\n</li>\n"});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof s&&s&&s.exports&&(s.exports=n)}),require.register("templates/respond",function(e,t,s){var n=Handlebars.template(function(e,t,s,n,o){function a(e,t){var n,o,a="";return a+='<div class="selection"><span class="quote">&ldquo;</span>',(o=s.selection)?n=o.call(e,{hash:{},data:t}):(o=e&&e.selection,n=typeof o===l?o.call(e,{hash:{},data:t}):o),a+=d(n)+'<span class="close quote">&rdquo;</span></div> '}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,e.helpers),o=o||{};var i,r="",l="function",d=this.escapeExpression,h=this;return i=s["if"].call(t,t&&t.selection,{hash:{},inverse:h.noop,fn:h.program(1,a,o),data:o}),(i||0===i)&&(r+=i),r+='\n\n<div id="pdr-flagbox-placeholder">\n</div>'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof s&&s&&s.exports&&(s.exports=n)}),require.register("templates/sort-selector",function(e,t,s){var n=Handlebars.template(function(e,t,s,n,o){return this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,e.helpers),o=o||{},'\n<option value="xxx-none-selected">Sort by</option>\n<option value="replyCount"># of Replies</option>\n<option value="themeCount"># of Themes</option>\n<option value="controversey">Controversy</option>\n<option value="recency">Last updated</option>\n\n\n'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof s&&s&&s.exports&&(s.exports=n)}),require.register("templates/stats",function(e,t,s){var n=Handlebars.template(function(e,t,s,n,o){function a(e,t){var n,o="";return o+='\n  <div class="notices">\n    ',n=s["if"].call(e,e&&e.isLongRead,{hash:{},inverse:y.noop,fn:y.program(2,i,t),data:t}),(n||0===n)&&(o+=n),o+="\n    ",n=s["if"].call(e,e&&e.notifications,{hash:{},inverse:y.noop,fn:y.program(4,r,t),data:t}),(n||0===n)&&(o+=n),o+="\n  </div>\n"}function i(e,t){return'\n        <div class="long-read">LONG READ</div>\n    '}function r(e,t){var n,o="";return o+='\n      <div class="notifications banner">\n        ',n=s["if"].call(e,(n=e&&e.notifications,null==n||n===!1?n:n.readers),{hash:{},inverse:y.noop,fn:y.program(5,l,t),data:t}),(n||0===n)&&(o+=n),o+="\n        ",n=s["if"].call(e,(n=e&&e.notifications,null==n||n===!1?n:n.responses),{hash:{},inverse:y.noop,fn:y.program(7,d,t),data:t}),(n||0===n)&&(o+=n),o+="\n      </div>\n    "}function l(e,t){var n,o,a,i="";return i+=b((n=e&&e.notifications,n=null==n||n===!1?n:n.readers,typeof n===I?n.apply(e):n))+" new reader"+b((o=s.pluralize||e&&e.pluralize,a={hash:{},data:t},o?o.call(e,(n=e&&e.notifications,null==n||n===!1?n:n.readers),a):D.call(e,"pluralize",(n=e&&e.notifications,null==n||n===!1?n:n.readers),a)))+". "}function d(e,t){var n,o,a,i="";return i+=b((n=e&&e.notifications,n=null==n||n===!1?n:n.responses,typeof n===I?n.apply(e):n))+" new response"+b((o=s.pluralize||e&&e.pluralize,a={hash:{},data:t},o?o.call(e,(n=e&&e.notifications,null==n||n===!1?n:n.responses),a):D.call(e,"pluralize",(n=e&&e.notifications,null==n||n===!1?n:n.responses),a)))+"."}function h(e,t){var s,n="";return n+="<span>"+b((s=e&&e.res,s=null==s||s===!1?s:s.wc,typeof s===I?s.apply(e):s))+"</span> words.<br>"}function c(e,t){var n,o,a,i="";return i+='<span class="num-readers">',(o=s.readerCount)?n=o.call(e,{hash:{},data:t}):(o=e&&e.readerCount,n=typeof o===I?o.call(e,{hash:{},data:t}):o),i+=b(n)+"</span> reader"+b((o=s.pluralize||e&&e.pluralize,a={hash:{},data:t},o?o.call(e,e&&e.readerCount,a):D.call(e,"pluralize",e&&e.readerCount,a)))+".<br> "}function p(e,t){var n,o,a="";return a+="<span>"+b((n=s.getSegmentedTime||e&&e.getSegmentedTime,o={hash:{},data:t},n?n.call(e,e&&e.time,o):D.call(e,"getSegmentedTime",e&&e.time,o)))+"</span>/reader.<br>"}function u(e,t){var n,o,a,i="";return i+=' <span class="num-stars">',(o=s.starCount)?n=o.call(e,{hash:{},data:t}):(o=e&&e.starCount,n=typeof o===I?o.call(e,{hash:{},data:t}):o),i+=b(n)+"</span> star"+b((o=s.pluralize||e&&e.pluralize,a={hash:{},data:t},o?o.call(e,e&&e.starCount,a):D.call(e,"pluralize",e&&e.starCount,a)))+"."}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,e.helpers),o=o||{};var g,f,m,v="",I="function",b=this.escapeExpression,D=s.helperMissing,y=this;return f=s.ifCompare||t&&t.ifCompare,m={hash:{},inverse:y.noop,fn:y.program(1,a,o),data:o},g=f?f.call(t,t&&t.isLongRead,"||",t&&t.notifications,m):D.call(t,"ifCompare",t&&t.isLongRead,"||",t&&t.notifications,m),(g||0===g)&&(v+=g),v+='\n<div class="stats">\n  <!-- Word Count -->\n  ',f=s.ifCompare||t&&t.ifCompare,m={hash:{},inverse:y.noop,fn:y.program(9,h,o),data:o},g=f?f.call(t,(g=t&&t.res,null==g||g===!1?g:g.wc),">",0,m):D.call(t,"ifCompare",(g=t&&t.res,null==g||g===!1?g:g.wc),">",0,m),(g||0===g)&&(v+=g),v+="\n\n  <!-- Reader Count -->\n  ",f=s.ifCompare||t&&t.ifCompare,m={hash:{},inverse:y.noop,fn:y.program(11,c,o),data:o},g=f?f.call(t,t&&t.readerCount,">",0,m):D.call(t,"ifCompare",t&&t.readerCount,">",0,m),(g||0===g)&&(v+=g),v+="\n\n  <!-- Dwell Time -->\n  ",f=s.ifCompare||t&&t.ifCompare,m={hash:{},inverse:y.noop,fn:y.program(13,p,o),data:o},g=f?f.call(t,t&&t.time,">",0,m):D.call(t,"ifCompare",t&&t.time,">",0,m),(g||0===g)&&(v+=g),v+='\n\n  <!-- Selection Count -->\n  <span class="num-selections">',(f=s.threadCount)?g=f.call(t,{hash:{},data:o}):(f=t&&t.threadCount,g=typeof f===I?f.call(t,{hash:{},data:o}):f),v+=b(g)+"</span> selection"+b((f=s.pluralize||t&&t.pluralize,m={hash:{},data:o},f?f.call(t,t&&t.threadCount,m):D.call(t,"pluralize",t&&t.threadCount,m)))+'.<br>\n\n  <!-- Response Count -->\n  <span class="num-responses">',(f=s.responseCount)?g=f.call(t,{hash:{},data:o}):(f=t&&t.responseCount,g=typeof f===I?f.call(t,{hash:{},data:o}):f),v+=b(g)+"</span> response"+b((f=s.pluralize||t&&t.pluralize,m={hash:{},data:o},f?f.call(t,t&&t.responseCount,m):D.call(t,"pluralize",t&&t.responseCount,m)))+".<br>\n\n  <!-- Star Count -->\n  ",g=s["if"].call(t,t&&t.starCount,{hash:{},inverse:y.noop,fn:y.program(15,u,o),data:o}),(g||0===g)&&(v+=g),v+="\n</div>\n\n"});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof s&&s&&s.exports&&(s.exports=n)}),require.register("templates/thread",function(e,t,s){var n=Handlebars.template(function(e,t,s,n,o){function a(e,t){return'\n  <div class="selection-not-found">This selection could not be found in the text. Perhaps the document has changed since this response was created?</div>\n  '}function i(e,t){return"Update"}function r(e,t){return"Respond"}function l(e,t){return'      \n      <div class="delete">&#10005;</div>\n    '}function d(e,t){var s="";return s+='<span class="theme">'+y(typeof e===D?e.apply(e):e)+"</span>"}function h(e,t){var n,o,a="";return a+='       \n    <div class="elaboration">',(o=s.note)?n=o.call(e,{hash:{},data:t}):(o=e&&e.note,n=typeof o===D?o.call(e,{hash:{},data:t}):o),a+=y(n)+"</div>\n  "}function c(e,t){var n,o,a,i="";return i+="\n      ",(o=s.replyCount)?n=o.call(e,{hash:{},data:t}):(o=e&&e.replyCount,n=typeof o===D?o.call(e,{hash:{},data:t}):o),i+=y(n)+" repl",o=s.ifCompare||e&&e.ifCompare,a={hash:{},inverse:w.program(16,u,t),fn:w.program(14,p,t),data:t},n=o?o.call(e,e&&e.replyCount,">",1,a):C.call(e,"ifCompare",e&&e.replyCount,">",1,a),(n||0===n)&&(i+=n),i+="\n      ",o=s.collection||e&&e.collection,a={hash:{style:"display:inline"},inverse:w.noop,fn:w.program(18,g,t),data:t},n=o?o.call(e,e&&e.sentimentTypesColl,a):C.call(e,"collection",e&&e.sentimentTypesColl,a),(n||0===n)&&(i+=n),i+="\n      ",o=s.collection||e&&e.collection,a={hash:{style:"display:inline"},inverse:w.noop,fn:w.program(20,f,t),data:t},n=o?o.call(e,e&&e.themesColl,a):C.call(e,"collection",e&&e.themesColl,a),(n||0===n)&&(i+=n),i+='\n      <span class="more-thread">...</span>\n    '}function p(e,t){return"ies"}function u(e,t){return"y"}function g(e,t){var n,o,a="";return a+='\n        <span class="',(o=s.id)?n=o.call(e,{hash:{},data:t}):(o=e&&e.id,n=typeof o===D?o.call(e,{hash:{},data:t}):o),a+=y(n)+' sentiments count">',(o=s.count)?n=o.call(e,{hash:{},data:t}):(o=e&&e.count,n=typeof o===D?o.call(e,{hash:{},data:t}):o),a+=y(n)+"</span>\n      "}function f(e,t){var n,o,a="";return a+='\n        <span class="theme count">',(o=s.id)?n=o.call(e,{hash:{},data:t}):(o=e&&e.id,n=typeof o===D?o.call(e,{hash:{},data:t}):o),a+=y(n)+" (",(o=s.count)?n=o.call(e,{hash:{},data:t}):(o=e&&e.count,n=typeof o===D?o.call(e,{hash:{},data:t}):o),a+=y(n)+")</span>\n      "}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,e.helpers),o=o||{};var m,v,I,b="",D="function",y=this.escapeExpression,w=this,C=s.helperMissing;return b+='<!-- meta goes here -->\n<li class="thread">\n  ',m=s["if"].call(t,t&&t.selectionNotFound,{hash:{},inverse:w.noop,fn:w.program(1,a,o),data:o}),(m||0===m)&&(b+=m),b+='\n  <div class="thread-extras">\n    <button class="respond">\n      ',m=s["if"].call(t,t&&t.hasResponded,{hash:{},inverse:w.program(5,r,o),fn:w.program(3,i,o),data:o}),(m||0===m)&&(b+=m),b+="\n    </button>\n    ",m=s["if"].call(t,t&&t.deletable,{hash:{},inverse:w.noop,fn:w.program(7,l,o),data:o}),(m||0===m)&&(b+=m),b+='\n  </div>\n  <div class="ts">'+y((v=s.getFancyDateTimeDelta||t&&t.getFancyDateTimeDelta,I={hash:{},data:o},v?v.call(t,t&&t.maxts,I):C.call(t,"getFancyDateTimeDelta",t&&t.maxts,I)))+'</div>\n  <div class="byline">\n    <span class="username">',(v=s.username)?m=v.call(t,{hash:{},data:o}):(v=t&&t.username,m=typeof v===D?v.call(t,{hash:{},data:o}):v),b+=y(m)+'</span><span class="sentiment">&nbsp;'+y((m=t&&t.thtObj,m=null==m||m===!1?m:m.thirdPerson,typeof m===D?m.apply(t):m))+"</span>&nbsp;\n    ",m=s.each.call(t,t&&t.themes,{hash:{},inverse:w.noop,fn:w.program(9,d,o),data:o}),(m||0===m)&&(b+=m),b+="\n  </div>\n  ",m=s["if"].call(t,t&&t.note,{hash:{},inverse:w.noop,fn:w.program(11,h,o),data:o}),(m||0===m)&&(b+=m),b+='\n  <div class="selection">',(v=s.selection)?m=v.call(t,{hash:{},data:o}):(v=t&&t.selection,m=typeof v===D?v.call(t,{hash:{},data:o}):v),b+=y(m)+'</div>  \n  <div class="tnt-sum">\n    ',v=s.ifCompare||t&&t.ifCompare,I={hash:{},inverse:w.noop,fn:w.program(13,c,o),data:o},m=v?v.call(t,t&&t.replyCount,">",0,I):C.call(t,"ifCompare",t&&t.replyCount,">",0,I),(m||0===m)&&(b+=m),b+='\n  </div>\n  <ol class="replies">\n    '+y((v=s.view||t&&t.view,I={hash:{},data:o},v?v.call(t,t&&t.repliesView,I):C.call(t,"view",t&&t.repliesView,I)))+"\n  </ol>\n</li>\n"});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof s&&s&&s.exports&&(s.exports=n)}),require.register("templates/tick",function(e,t,s){var n=Handlebars.template(function(e,t,s,n,o){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,e.helpers),o=o||{};var a="";return a});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof s&&s&&s.exports&&(s.exports=n)});